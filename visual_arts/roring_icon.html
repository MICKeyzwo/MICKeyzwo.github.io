<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>1/3Hzで回転する私</title>
<style type="text/css">

</style>
<script type="text/javascript">
window.addEventListener("load", function(){
    let canvas = document.getElementById("canvas");
    canvas.width = canvas.height = 480;
    let ctx = canvas.getContext("2d");
    let img = new Image();
    img.src = "box.png";
    img.addEventListener("load", function(){
        let rad = 0;
        let timer = setInterval(function(){
            ctx.clearRect(0, 0, 480, 480);
            drawRotatedImage(img, 240, 240, rad);
            rad = (rad + Math.PI / 180) % (Math.PI * 2);
        }, 1000 / 60);
    });
    function drawRotatedImage(i, x, y, r){
        ctx.setTransform(1, 0, 0, 1, 0, 0);
        ctx.translate(x, y);
        ctx.rotate(r);
        ctx.drawImage(i, -i.width / 2, -i.height / 2);
        ctx.setTransform(1, 0, 0, 1, 0, 0);
    }
});
</script>
</head>
<body>
<canvas id="canvas"></canvas>
</body>
</html>